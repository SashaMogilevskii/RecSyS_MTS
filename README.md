# Шаблон сервиса рекомендаций

## Подготовка

### Python

В данном шаблоне используется Python3.8, однако вы можете использовать более свежие версии, если хотите. 
Но мы не гарантируем, что все будет работать.

### Poetry

[Poetry](https://python-poetry.org/) - это удобный инструмент для работы с зависимостями в Python. 
Мы будем использовать его для подготовки окружения.

Поэтому перед началом работы необходимо выполнить [шаги по установке](https://python-poetry.org/docs/#installation).


### Установка/удаление пакетов

Для установки новых пакетов используйте команду `poetry add`, для удаления - `poetry remove`. 
Мы не рекомендуем вручную редактировать секцию с зависимостями в `pyproject.toml`.

## Линтеры, тесты и автоформатирование

### Автоформатирование



## Запуск приложения

### Способ 1: Python + Uvicorn

```
uvicorn main:app --reload
./cloudflared.exe tunnel --url http://127.0.0.1:8000
```
Приложение запустится локально, и сразу же в онлайн формате на сервере cloudflared. 
Установочник cloudflared должен лежать лекально в директории проекта


### Модели и их описания
- stupid_top (предсказывает топ 10 итемов, с фильтром длительности просмотра более 10%)
- no_stupid_top (предсказывает топ 10 итемов, проверяя совпадения в просмотренных и в топ 10,
заменяя совпадающие итемы)
- base_userknn (модель, knn 50 ближайших соседей, функции расстояния стандартные)

## Our results:

| Model          | Примечания           | LB         |
|----------------|----------------------|------------|
| range(10)      | Предсказываем 1-10   | 0.00000334 |
| RandomModel    | Случайные 10 чисел   | 0.00000600 |
| stupid_top     | top_10 (без условий) | 0.07910327 |
| no_stupid_top  | См. описание модели  | 0.08320600 |
| base_userknn   | См. описание модели  | 0.08320600 |


